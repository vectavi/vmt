{
  "contractName": "SalePrice",
  "abi": [
    {
      "constant": false,
      "inputs": [
        {
          "name": "_mgr",
          "type": "address"
        }
      ],
      "name": "setMigrationManager",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "currentPhase",
      "outputs": [
        {
          "name": "",
          "type": "uint8"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "migrationManager",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "tokenManager",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "rate",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "DISCOUNT_PERIOD",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "TOTAL_DISCOUNT_PERIODS",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [],
      "name": "destroy",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "PRICE",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "saleStart",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "SALE_PERIOD",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "DISCOUNT_REDUCTION_AMOUNT",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_nextPhase",
          "type": "uint8"
        }
      ],
      "name": "setPhase",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "saleEnd",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "INITIAL_DISCOUNT",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "validPurchase",
      "outputs": [
        {
          "name": "",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [],
      "name": "salePrice",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "name": "_rate",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "purchaser",
          "type": "address"
        },
        {
          "indexed": true,
          "name": "beneficiary",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "value",
          "type": "uint256"
        },
        {
          "indexed": false,
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "PriceChangePurchase",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "name": "newPhase",
          "type": "uint8"
        }
      ],
      "name": "LogPhaseSwitch",
      "type": "event"
    }
  ],
  "bytecode": "0x6060604052341561000f57600080fd5b6040516020806108b4833981016040528080516000805460ff191681559092508211905061003c57600080fd5b600755600060048190556005556117706006556108568061005e6000396000f300606060405236156100ee5763ffffffff7c0100000000000000000000000000000000000000000000000000000000600035041663025cf89f81146100f3578063055ad42e14610114578063187ac4cb1461014b5780632a709b141461017a5780632c4e722e1461018d5780635b177a73146101b2578063728e23a2146101c557806383197ef0146101d85780638d859f3e146101eb578063ab0bcc41146101fe578063afb7e45b14610211578063ba648f9714610224578063c03afb5914610237578063c10b935814610250578063d425314714610263578063f15a691d14610276578063f51f96dd1461029d575b600080fd5b34156100fe57600080fd5b610112600160a060020a03600435166102b0565b005b341561011f57600080fd5b610127610359565b6040518082600781111561013757fe5b60ff16815260200191505060405180910390f35b341561015657600080fd5b61015e610362565b604051600160a060020a03909116815260200160405180910390f35b341561018557600080fd5b61015e610371565b341561019857600080fd5b6101a0610385565b60405190815260200160405180910390f35b34156101bd57600080fd5b6101a061038b565b34156101d057600080fd5b6101a0610390565b34156101e357600080fd5b610112610395565b34156101f657600080fd5b6101a0610401565b341561020957600080fd5b6101a0610407565b341561021c57600080fd5b6101a061040d565b341561022f57600080fd5b6101a0610412565b341561024257600080fd5b61011260ff60043516610417565b341561025b57600080fd5b6101a06106f0565b341561026e57600080fd5b6101a06106f6565b341561028157600080fd5b6102896106fc565b604051901515815260200160405180910390f35b34156102a857600080fd5b6101a061073a565b6000546101009004600160a060020a0316158015906102e2575060005433600160a060020a0390811661010090920416145b15156102ed57600080fd5b600760005460ff16600781111561030057fe5b1415801561031f5750600660005460ff16600781111561031c57fe5b14155b151561032a57600080fd5b6001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b60005460ff1681565b600154600160a060020a031681565b6000546101009004600160a060020a031681565b60075481565b600281565b600481565b6000546101009004600160a060020a0316158015906103c7575060005433600160a060020a0390811661010090920416145b15156103d257600080fd5b6000546101009004600160a060020a031615156103ee57600080fd5b6000546101009004600160a060020a0316ff5b61138881565b60025481565b600a81565b60fa81565b600080546101009004600160a060020a03161580159061044a575060005433600160a060020a0390811661010090920416145b151561045557600080fd5b6000805460ff16600781111561046757fe5b14801561047f5750600182600781111561047d57fe5b145b1561048c5750600161062e565b600160005460ff16600781111561049f57fe5b1480156104b7575060028260078111156104b557fe5b145b156104c45750600161062e565b600260005460ff1660078111156104d757fe5b1480156104ef575060018260078111156104ed57fe5b145b156104fc5750600161062e565b600160005460ff16600781111561050f57fe5b1480156105275750600382600781111561052557fe5b145b156105345750600161062e565b600260005460ff16600781111561054757fe5b14801561055f5750600382600781111561055d57fe5b145b1561056c5750600161062e565b600460005460ff16600781111561057f57fe5b1480156105975750600582600781111561059557fe5b145b156105a45750600161062e565b600560005460ff1660078111156105b757fe5b1480156105cf575060068260078111156105cd57fe5b145b80156105e55750600154600160a060020a031615155b156105f25750600161062e565b600660005460ff16600781111561060557fe5b14801561061d5750600782600781111561061b57fe5b145b1561062a5750600161062e565b5060005b80151561063a57600080fd5b6000805483919060ff1916600183600781111561065357fe5b0217905550600182600781111561066657fe5b1480156106735750600254155b1561067d57426002555b600382600781111561068b57fe5b14156106a757600354151561069f57426003555b6106a76107a7565b7f8d9efa3fab1bd6476defa44f520afbf9337886a4947021fd7f2775e0efaf457182604051808260078111156106d957fe5b60ff16815260200191505060405180910390a15050565b60035481565b6103e881565b600080600060025411801561071a57506002546107176107fe565b10155b80156107345750600254620d2f00906107316107fe565b03105b92915050565b60006002620151800260025461074e6107fe565b0381151561075857fe5b0460058190556004549011156107a05760055460045561077b61138860fa610802565b60065410610799576006546107919060fa610818565b6006556107a0565b6113886006555b5060065490565b6000805460ff191660059081179091557f8d9efa3fab1bd6476defa44f520afbf9337886a4947021fd7f2775e0efaf457190604051808260078111156107e957fe5b60ff16815260200191505060405180910390a1565b4290565b60008282018381101561081157fe5b9392505050565b60008282111561082457fe5b509003905600a165627a7a723058208d0ee77efbe2d274eafa95ffa4dd5c15df44ca3f899689599ba4015e3f2268310029",
  "deployedBytecode": "0x606060405236156100ee5763ffffffff7c0100000000000000000000000000000000000000000000000000000000600035041663025cf89f81146100f3578063055ad42e14610114578063187ac4cb1461014b5780632a709b141461017a5780632c4e722e1461018d5780635b177a73146101b2578063728e23a2146101c557806383197ef0146101d85780638d859f3e146101eb578063ab0bcc41146101fe578063afb7e45b14610211578063ba648f9714610224578063c03afb5914610237578063c10b935814610250578063d425314714610263578063f15a691d14610276578063f51f96dd1461029d575b600080fd5b34156100fe57600080fd5b610112600160a060020a03600435166102b0565b005b341561011f57600080fd5b610127610359565b6040518082600781111561013757fe5b60ff16815260200191505060405180910390f35b341561015657600080fd5b61015e610362565b604051600160a060020a03909116815260200160405180910390f35b341561018557600080fd5b61015e610371565b341561019857600080fd5b6101a0610385565b60405190815260200160405180910390f35b34156101bd57600080fd5b6101a061038b565b34156101d057600080fd5b6101a0610390565b34156101e357600080fd5b610112610395565b34156101f657600080fd5b6101a0610401565b341561020957600080fd5b6101a0610407565b341561021c57600080fd5b6101a061040d565b341561022f57600080fd5b6101a0610412565b341561024257600080fd5b61011260ff60043516610417565b341561025b57600080fd5b6101a06106f0565b341561026e57600080fd5b6101a06106f6565b341561028157600080fd5b6102896106fc565b604051901515815260200160405180910390f35b34156102a857600080fd5b6101a061073a565b6000546101009004600160a060020a0316158015906102e2575060005433600160a060020a0390811661010090920416145b15156102ed57600080fd5b600760005460ff16600781111561030057fe5b1415801561031f5750600660005460ff16600781111561031c57fe5b14155b151561032a57600080fd5b6001805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0392909216919091179055565b60005460ff1681565b600154600160a060020a031681565b6000546101009004600160a060020a031681565b60075481565b600281565b600481565b6000546101009004600160a060020a0316158015906103c7575060005433600160a060020a0390811661010090920416145b15156103d257600080fd5b6000546101009004600160a060020a031615156103ee57600080fd5b6000546101009004600160a060020a0316ff5b61138881565b60025481565b600a81565b60fa81565b600080546101009004600160a060020a03161580159061044a575060005433600160a060020a0390811661010090920416145b151561045557600080fd5b6000805460ff16600781111561046757fe5b14801561047f5750600182600781111561047d57fe5b145b1561048c5750600161062e565b600160005460ff16600781111561049f57fe5b1480156104b7575060028260078111156104b557fe5b145b156104c45750600161062e565b600260005460ff1660078111156104d757fe5b1480156104ef575060018260078111156104ed57fe5b145b156104fc5750600161062e565b600160005460ff16600781111561050f57fe5b1480156105275750600382600781111561052557fe5b145b156105345750600161062e565b600260005460ff16600781111561054757fe5b14801561055f5750600382600781111561055d57fe5b145b1561056c5750600161062e565b600460005460ff16600781111561057f57fe5b1480156105975750600582600781111561059557fe5b145b156105a45750600161062e565b600560005460ff1660078111156105b757fe5b1480156105cf575060068260078111156105cd57fe5b145b80156105e55750600154600160a060020a031615155b156105f25750600161062e565b600660005460ff16600781111561060557fe5b14801561061d5750600782600781111561061b57fe5b145b1561062a5750600161062e565b5060005b80151561063a57600080fd5b6000805483919060ff1916600183600781111561065357fe5b0217905550600182600781111561066657fe5b1480156106735750600254155b1561067d57426002555b600382600781111561068b57fe5b14156106a757600354151561069f57426003555b6106a76107a7565b7f8d9efa3fab1bd6476defa44f520afbf9337886a4947021fd7f2775e0efaf457182604051808260078111156106d957fe5b60ff16815260200191505060405180910390a15050565b60035481565b6103e881565b600080600060025411801561071a57506002546107176107fe565b10155b80156107345750600254620d2f00906107316107fe565b03105b92915050565b60006002620151800260025461074e6107fe565b0381151561075857fe5b0460058190556004549011156107a05760055460045561077b61138860fa610802565b60065410610799576006546107919060fa610818565b6006556107a0565b6113886006555b5060065490565b6000805460ff191660059081179091557f8d9efa3fab1bd6476defa44f520afbf9337886a4947021fd7f2775e0efaf457190604051808260078111156107e957fe5b60ff16815260200191505060405180910390a1565b4290565b60008282018381101561081157fe5b9392505050565b60008282111561082457fe5b509003905600a165627a7a723058208d0ee77efbe2d274eafa95ffa4dd5c15df44ca3f899689599ba4015e3f2268310029",
  "sourceMap": "266:3479:26:-;;;1935:215;;;;;;;;;;;;;;;;;;;;;;1652:13:30;1637:28;;-1:-1:-1;;1637:28:30;;;1935:215:26;;-1:-1:-1;1994:9:26;;;-1:-1:-1;1986:18:26;;;;;;2014:4;:12;2058:1;2045:10;:14;;;2069:10;:14;2101:24;2093:5;:32;266:3479;;;;;;",
  "deployedSourceMap": "266:3479:26:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;5934:196:30;;;;;;;;;;-1:-1:-1;;;;;5934:196:30;;;;;;;679:25;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1074:31;;;;;;;;;;;;;;;-1:-1:-1;;;;;1074:31:30;;;;;;;;;;;;;;851:27;;;;;;;;;;;;1369:19:26;;;;;;;;;;;;;;;;;;;;;;;;;;;817:40;;;;;;;;;;;;908:81;;;;;;;;;;;;6218:188:30;;;;;;;;;;;;476:36:26;;;;;;;;;;;;1281:21:30;;;;;;;;;;;;717:37:26;;;;;;;;;;;;1064:93;;;;;;;;;;;;3330:2411:30;;;;;;;;;;;;;;;;1308:19;;;;;;;;;;;;631:47:26;;;;;;;;;;;;2425:244;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2819:534;;;;;;;;;;;;5934:196:30;1969:12;;;;;-1:-1:-1;;;;;1969:12:30;:19;;;;1968:53;;-1:-1:-1;2008:12:30;;1994:10;-1:-1:-1;;;;;1994:26:30;;;2008:12;;;;;1994:26;1968:53;1960:62;;;;;;;;6036:14;6020:12;;;;:30;;;;;;;;;;6019:69;;;;-1:-1:-1;6072:15:30;6056:12;;;;:31;;;;;;;;;;6019:69;6011:78;;;;;;;;6100:16;:23;;-1:-1:-1;;6100:23:30;-1:-1:-1;;;;;6100:23:30;;;;;;;;;;5934:196::o;679:25::-;;;;;;:::o;1074:31::-;;;-1:-1:-1;;;;;1074:31:30;;:::o;851:27::-;;;;;;-1:-1:-1;;;;;851:27:30;;:::o;1369:19:26:-;;;;:::o;817:40::-;856:1;817:40;:::o;908:81::-;954:35;908:81;:::o;6218:188:30:-;1969:12;;;;;-1:-1:-1;;;;;1969:12:30;:19;;;;1968:53;;-1:-1:-1;2008:12:30;;1994:10;-1:-1:-1;;;;;1994:26:30;;;2008:12;;;;;1994:26;1968:53;1960:62;;;;;;;;6279:12;;;;;-1:-1:-1;;;;;6279:12:30;:19;;6271:28;;;;;;6386:12;;;;;-1:-1:-1;;;;;6386:12:30;6373:26;476:36:26;508:4;476:36;:::o;1281:21:30:-;;;;:::o;717:37:26:-;752:2;717:37;:::o;1064:93::-;1116:41;1064:93;:::o;3330:2411:30:-;3400:19;1969:12;;;;;-1:-1:-1;;;;;1969:12:30;:19;;;;1968:53;;-1:-1:-1;2008:12:30;;1994:10;-1:-1:-1;;;;;1994:26:30;;;2008:12;;;;;1994:26;1968:53;1960:62;;;;;;;;3449:13;3433:12;;;;:29;;;;;;;;;:60;;;;-1:-1:-1;3480:13:30;3466:10;:27;;;;;;;;;3433:60;3429:1953;;;-1:-1:-1;3526:4:30;3429:1953;;;3581:13;3565:12;;;;:29;;;;;;;;;:59;;;;-1:-1:-1;3612:12:30;3598:10;:26;;;;;;;;;3565:59;3561:1811;;;-1:-1:-1;3661:4:30;3561:1811;;;3724:12;3708;;;;:28;;;;;;;;;:59;;;;-1:-1:-1;3754:13:30;3740:10;:27;;;;;;;;;3708:59;3704:1654;;;-1:-1:-1;3808:4:30;3704:1654;;;3879:13;3863:12;;;;:29;;;;;;;;;:63;;;;-1:-1:-1;3910:16:30;3896:10;:30;;;;;;;;;3863:63;3859:1481;;;-1:-1:-1;3971:4:30;3859:1481;;;4050:12;4034;;;;:28;;;;;;;;;:62;;;;-1:-1:-1;4080:16:30;4066:10;:30;;;;;;;;;4034:62;4030:1288;;;-1:-1:-1;4145:4:30;4030:1288;;;4232:15;4216:12;;;;:31;;;;;;;;;:64;;;;-1:-1:-1;4265:15:30;4251:10;:29;;;;;;;;;4216:64;4212:1080;;;-1:-1:-1;4333:4:30;4212:1080;;;4522:15;4506:12;;;;:31;;;;;;;;;:64;;;;-1:-1:-1;4555:15:30;4541:10;:29;;;;;;;;;4506:64;:128;;;;-1:-1:-1;4611:16:30;;-1:-1:-1;;;;;4611:16:30;:23;;4506:128;4502:760;;;-1:-1:-1;4691:4:30;4502:760;;;4968:15;4952:12;;;;:31;;;;;;;;;:63;;;;-1:-1:-1;5001:14:30;4987:10;:28;;;;;;;;;4952:63;4948:280;;;-1:-1:-1;5076:4:30;4948:280;;;-1:-1:-1;5184:5:30;4948:280;5399:14;5391:23;;;;;;;;5424:12;:25;;5439:10;;5424:12;-1:-1:-1;;5424:25:30;;5439:10;5424:25;;;;;;;;;;;;-1:-1:-1;5477:13:30;5463:10;:27;;;;;;;;;:45;;;;-1:-1:-1;5494:9:30;;:14;5463:45;5459:103;;;5536:15;5524:9;:27;5459:103;5589:16;5575:10;:30;;;;;;;;;5571:128;;;5625:7;;:12;5621:43;;;5649:15;5639:7;:25;5621:43;5678:10;:8;:10::i;:::-;5708:26;5723:10;5708:26;;;;;;;;;;;;;;;;;;;;;;;;;;;;3330:2411;;:::o;1308:19::-;;;;:::o;631:47:26:-;674:4;631:47;:::o;2425:244::-;2471:4;2487:12;2526:1;2514:9;;:13;:55;;;;;2560:9;;2543:13;:11;:13::i;:::-;:26;;2514:55;:123;;;;-1:-1:-1;2602:9:26;;2616:20;;2586:13;:11;:13::i;:::-;:25;2585:52;2514:123;2487:150;2425:244;-1:-1:-1;;2425:244:26:o;2819:534::-;2856:7;856:1;2995:6;2977:24;2963:9;;2947:13;:11;:13::i;:::-;:25;2946:56;;;;;;;;2933:10;:69;;;3029:10;;3016:23;;3012:313;;;3068:10;;3055;:23;3105:46;508:4;1116:41;3105:12;:46::i;:::-;3096:5;;:55;3092:223;;3179:5;;:36;;1116:41;3179:9;:36::i;:::-;3171:5;:44;3092:223;;;508:4;3254:5;:13;3092:223;-1:-1:-1;3341:5:26;;2819:534;:::o;6641:117:30:-;6680:12;:30;;-1:-1:-1;;6680:30:30;6695:15;6680:30;;;;;;6720:31;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6641:117::o;3602:92:26:-;3672:15;3602:92;:::o;680:133:39:-;742:7;769:5;;;787:6;;;;780:14;;;;807:1;680:133;-1:-1:-1;;;680:133:39:o;562:114::-;624:7;646:6;;;;639:14;;;;-1:-1:-1;666:5:39;;;562:114::o",
  "source": "pragma solidity ^0.4.17;\n\nimport 'zeppelin-solidity/contracts/math/SafeMath.sol';\nimport './TokenLifecycle.sol';\nimport \"./DSWarp.sol\";\n\n\n/**\n * @title SalePrice\n * @author Tavit Ohanian\n * @notice Allows determination of discounted sale price of token purchase\n */\ncontract SalePrice is TokenLifecycle {\n\n    using SafeMath for uint256;\n\n    /**\n     * @dev State definitions\n     */\n\n    /// @dev ICO Price in units of tokens per ether\n    /// @dev 5000 VMTs per Ether \n    uint256 public constant PRICE = 5000;\n\n    /// @dev Initial discount in units of tokens per ether\n    /// @dev 20% initial discount on VMTs per Ether \n    uint256 public constant INITIAL_DISCOUNT = 1000;\n\n    /// @dev Days in token sale\n    uint public constant SALE_PERIOD = 10;\n\n    /// @dev Days discount is fixed at a specific level\n    uint public constant DISCOUNT_PERIOD = 2;\n\n    /// @dev No discount during last period\n    uint public constant TOTAL_DISCOUNT_PERIODS = (SALE_PERIOD / DISCOUNT_PERIOD) - 1;\n\n    /// @dev Uniform reduction of discount amount in units of ether\n    uint256 public constant DISCOUNT_REDUCTION_AMOUNT = INITIAL_DISCOUNT / TOTAL_DISCOUNT_PERIODS;\n\n    /// @dev Used to compute purchase price\n    uint prevPeriod;\n    uint currPeriod;\n    uint256 price; // in units of ether\n\n    /**\n     * @notice rate how many token units a buyer gets per wei\n     */\n    uint256 public rate;\n\n\n    /**\n     * @dev Event definitions\n     */\n\n    /**\n     * @notice token purchase event\n     * @param purchaser who paid for the tokens\n     * @param beneficiary who got the tokens\n     * @param value wei paid for purchase\n     * @param amount amount of tokens purchased\n     */\n    event PriceChangePurchase(address indexed purchaser, address indexed beneficiary, uint256 value, uint256 amount);\n\n\n    /**\n     * @dev Constructor\n     */\n\n    /**\n     * @notice SalePrice(uint256 _rate)\n     * @param _rate base purchase rate.\n     */\n    function SalePrice(uint256 _rate) public {\n        require(_rate > 0);\n        rate = _rate;\n        \n        prevPeriod = 0;\n        currPeriod = 0;\n        price = PRICE + INITIAL_DISCOUNT; // in ether units\n    }\n\n\n    /**\n     * @dev Fallback function (if exists)\n     */\n\n\n    /**\n     * @dev External functions\n     */\n\n\n    /**\n     * @dev Public functions\n     */\n\n    /**\n     * @notice validPurchase()\n     * @return true if sale is running and period has not expired\n     */\n    function validPurchase() public view returns (bool) {\n        bool _active =\n            saleStart > 0 &&\n            currentTime() >= saleStart &&\n            (currentTime() - saleStart) < (SALE_PERIOD * 1 days);\n\n        return _active;\n    }\n\n    /**\n     * @notice salePrice()\n     * @notice Calculate price in tokens per wei.\n     * @notice Available at any token phase state.\n     */\n    function salePrice() public returns (uint256) {\n        // called only when running and purchase is valid\n        currPeriod = (currentTime() - saleStart) / (DISCOUNT_PERIOD * 1 days);\n        if (currPeriod > prevPeriod) {\n            prevPeriod = currPeriod;\n            if (price >= SafeMath.add(PRICE, DISCOUNT_REDUCTION_AMOUNT)) {\n                price = price.sub(DISCOUNT_REDUCTION_AMOUNT);\n            } else {\n                price = PRICE; // latch at non-discounted price\n            }\n        }\n        return price;\n    }\n\n\n    /**\n     * @dev Administrative functions\n     */\n\n\n    /**\n     * @dev Internal functions\n     */\n\n    /**\n     * @notice currentTime()\n     * @notice override to warp time for sale discount testing\n     * @return block.timestamp\n     */\n    function  currentTime() internal view returns (uint) {\n        return block.timestamp;\n    }\n\n\n    /**\n     * @dev Private functions\n     */\n\n}\n\n",
  "sourcePath": "/home/tavit/Work/dapp/vmt/contracts/SalePrice.sol",
  "ast": {
    "attributes": {
      "absolutePath": "/home/tavit/Work/dapp/vmt/contracts/SalePrice.sol",
      "exportedSymbols": {
        "SalePrice": [
          3439
        ]
      }
    },
    "children": [
      {
        "attributes": {
          "literals": [
            "solidity",
            "^",
            "0.4",
            ".17"
          ]
        },
        "id": 3267,
        "name": "PragmaDirective",
        "src": "0:24:26"
      },
      {
        "attributes": {
          "SourceUnit": 6451,
          "absolutePath": "zeppelin-solidity/contracts/math/SafeMath.sol",
          "file": "zeppelin-solidity/contracts/math/SafeMath.sol",
          "scope": 3440,
          "symbolAliases": [
            null
          ],
          "unitAlias": ""
        },
        "id": 3268,
        "name": "ImportDirective",
        "src": "26:55:26"
      },
      {
        "attributes": {
          "SourceUnit": 4168,
          "absolutePath": "/home/tavit/Work/dapp/vmt/contracts/TokenLifecycle.sol",
          "file": "./TokenLifecycle.sol",
          "scope": 3440,
          "symbolAliases": [
            null
          ],
          "unitAlias": ""
        },
        "id": 3269,
        "name": "ImportDirective",
        "src": "82:30:26"
      },
      {
        "attributes": {
          "SourceUnit": 774,
          "absolutePath": "/home/tavit/Work/dapp/vmt/contracts/DSWarp.sol",
          "file": "./DSWarp.sol",
          "scope": 3440,
          "symbolAliases": [
            null
          ],
          "unitAlias": ""
        },
        "id": 3270,
        "name": "ImportDirective",
        "src": "113:22:26"
      },
      {
        "attributes": {
          "contractDependencies": [
            4167
          ],
          "contractKind": "contract",
          "documentation": "@title SalePrice\n@author Tavit Ohanian\n@notice Allows determination of discounted sale price of token purchase",
          "fullyImplemented": true,
          "linearizedBaseContracts": [
            3439,
            4167
          ],
          "name": "SalePrice",
          "scope": 3440
        },
        "children": [
          {
            "attributes": {
              "arguments": [
                null
              ]
            },
            "children": [
              {
                "attributes": {
                  "contractScope": null,
                  "name": "TokenLifecycle",
                  "referencedDeclaration": 4167,
                  "type": "contract TokenLifecycle"
                },
                "id": 3271,
                "name": "UserDefinedTypeName",
                "src": "288:14:26"
              }
            ],
            "id": 3272,
            "name": "InheritanceSpecifier",
            "src": "288:14:26"
          },
          {
            "children": [
              {
                "attributes": {
                  "contractScope": null,
                  "name": "SafeMath",
                  "referencedDeclaration": 6450,
                  "type": "library SafeMath"
                },
                "id": 3273,
                "name": "UserDefinedTypeName",
                "src": "316:8:26"
              },
              {
                "attributes": {
                  "name": "uint256",
                  "type": "uint256"
                },
                "id": 3274,
                "name": "ElementaryTypeName",
                "src": "329:7:26"
              }
            ],
            "id": 3275,
            "name": "UsingForDirective",
            "src": "310:27:26"
          },
          {
            "attributes": {
              "constant": true,
              "name": "PRICE",
              "scope": 3439,
              "stateVariable": true,
              "storageLocation": "default",
              "type": "uint256",
              "visibility": "public"
            },
            "children": [
              {
                "attributes": {
                  "name": "uint256",
                  "type": "uint256"
                },
                "id": 3276,
                "name": "ElementaryTypeName",
                "src": "476:7:26"
              },
              {
                "attributes": {
                  "argumentTypes": null,
                  "hexvalue": "35303030",
                  "isConstant": false,
                  "isLValue": false,
                  "isPure": true,
                  "lValueRequested": false,
                  "subdenomination": null,
                  "token": "number",
                  "type": "int_const 5000",
                  "value": "5000"
                },
                "id": 3277,
                "name": "Literal",
                "src": "508:4:26"
              }
            ],
            "id": 3278,
            "name": "VariableDeclaration",
            "src": "476:36:26"
          },
          {
            "attributes": {
              "constant": true,
              "name": "INITIAL_DISCOUNT",
              "scope": 3439,
              "stateVariable": true,
              "storageLocation": "default",
              "type": "uint256",
              "visibility": "public"
            },
            "children": [
              {
                "attributes": {
                  "name": "uint256",
                  "type": "uint256"
                },
                "id": 3279,
                "name": "ElementaryTypeName",
                "src": "631:7:26"
              },
              {
                "attributes": {
                  "argumentTypes": null,
                  "hexvalue": "31303030",
                  "isConstant": false,
                  "isLValue": false,
                  "isPure": true,
                  "lValueRequested": false,
                  "subdenomination": null,
                  "token": "number",
                  "type": "int_const 1000",
                  "value": "1000"
                },
                "id": 3280,
                "name": "Literal",
                "src": "674:4:26"
              }
            ],
            "id": 3281,
            "name": "VariableDeclaration",
            "src": "631:47:26"
          },
          {
            "attributes": {
              "constant": true,
              "name": "SALE_PERIOD",
              "scope": 3439,
              "stateVariable": true,
              "storageLocation": "default",
              "type": "uint256",
              "visibility": "public"
            },
            "children": [
              {
                "attributes": {
                  "name": "uint",
                  "type": "uint256"
                },
                "id": 3282,
                "name": "ElementaryTypeName",
                "src": "717:4:26"
              },
              {
                "attributes": {
                  "argumentTypes": null,
                  "hexvalue": "3130",
                  "isConstant": false,
                  "isLValue": false,
                  "isPure": true,
                  "lValueRequested": false,
                  "subdenomination": null,
                  "token": "number",
                  "type": "int_const 10",
                  "value": "10"
                },
                "id": 3283,
                "name": "Literal",
                "src": "752:2:26"
              }
            ],
            "id": 3284,
            "name": "VariableDeclaration",
            "src": "717:37:26"
          },
          {
            "attributes": {
              "constant": true,
              "name": "DISCOUNT_PERIOD",
              "scope": 3439,
              "stateVariable": true,
              "storageLocation": "default",
              "type": "uint256",
              "visibility": "public"
            },
            "children": [
              {
                "attributes": {
                  "name": "uint",
                  "type": "uint256"
                },
                "id": 3285,
                "name": "ElementaryTypeName",
                "src": "817:4:26"
              },
              {
                "attributes": {
                  "argumentTypes": null,
                  "hexvalue": "32",
                  "isConstant": false,
                  "isLValue": false,
                  "isPure": true,
                  "lValueRequested": false,
                  "subdenomination": null,
                  "token": "number",
                  "type": "int_const 2",
                  "value": "2"
                },
                "id": 3286,
                "name": "Literal",
                "src": "856:1:26"
              }
            ],
            "id": 3287,
            "name": "VariableDeclaration",
            "src": "817:40:26"
          },
          {
            "attributes": {
              "constant": true,
              "name": "TOTAL_DISCOUNT_PERIODS",
              "scope": 3439,
              "stateVariable": true,
              "storageLocation": "default",
              "type": "uint256",
              "visibility": "public"
            },
            "children": [
              {
                "attributes": {
                  "name": "uint",
                  "type": "uint256"
                },
                "id": 3288,
                "name": "ElementaryTypeName",
                "src": "908:4:26"
              },
              {
                "attributes": {
                  "argumentTypes": null,
                  "commonType": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "isConstant": false,
                  "isLValue": false,
                  "isPure": true,
                  "lValueRequested": false,
                  "operator": "-",
                  "type": "uint256"
                },
                "children": [
                  {
                    "attributes": {
                      "argumentTypes": null,
                      "isConstant": false,
                      "isInlineArray": false,
                      "isLValue": false,
                      "isPure": true,
                      "lValueRequested": false,
                      "type": "uint256"
                    },
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "lValueRequested": false,
                          "operator": "/",
                          "type": "uint256"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3284,
                              "type": "uint256",
                              "value": "SALE_PERIOD"
                            },
                            "id": 3289,
                            "name": "Identifier",
                            "src": "955:11:26"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3287,
                              "type": "uint256",
                              "value": "DISCOUNT_PERIOD"
                            },
                            "id": 3290,
                            "name": "Identifier",
                            "src": "969:15:26"
                          }
                        ],
                        "id": 3291,
                        "name": "BinaryOperation",
                        "src": "955:29:26"
                      }
                    ],
                    "id": 3292,
                    "name": "TupleExpression",
                    "src": "954:31:26"
                  },
                  {
                    "attributes": {
                      "argumentTypes": null,
                      "hexvalue": "31",
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "lValueRequested": false,
                      "subdenomination": null,
                      "token": "number",
                      "type": "int_const 1",
                      "value": "1"
                    },
                    "id": 3293,
                    "name": "Literal",
                    "src": "988:1:26"
                  }
                ],
                "id": 3294,
                "name": "BinaryOperation",
                "src": "954:35:26"
              }
            ],
            "id": 3295,
            "name": "VariableDeclaration",
            "src": "908:81:26"
          },
          {
            "attributes": {
              "constant": true,
              "name": "DISCOUNT_REDUCTION_AMOUNT",
              "scope": 3439,
              "stateVariable": true,
              "storageLocation": "default",
              "type": "uint256",
              "visibility": "public"
            },
            "children": [
              {
                "attributes": {
                  "name": "uint256",
                  "type": "uint256"
                },
                "id": 3296,
                "name": "ElementaryTypeName",
                "src": "1064:7:26"
              },
              {
                "attributes": {
                  "argumentTypes": null,
                  "commonType": {
                    "typeIdentifier": "t_uint256",
                    "typeString": "uint256"
                  },
                  "isConstant": false,
                  "isLValue": false,
                  "isPure": true,
                  "lValueRequested": false,
                  "operator": "/",
                  "type": "uint256"
                },
                "children": [
                  {
                    "attributes": {
                      "argumentTypes": null,
                      "overloadedDeclarations": [
                        null
                      ],
                      "referencedDeclaration": 3281,
                      "type": "uint256",
                      "value": "INITIAL_DISCOUNT"
                    },
                    "id": 3297,
                    "name": "Identifier",
                    "src": "1116:16:26"
                  },
                  {
                    "attributes": {
                      "argumentTypes": null,
                      "overloadedDeclarations": [
                        null
                      ],
                      "referencedDeclaration": 3295,
                      "type": "uint256",
                      "value": "TOTAL_DISCOUNT_PERIODS"
                    },
                    "id": 3298,
                    "name": "Identifier",
                    "src": "1135:22:26"
                  }
                ],
                "id": 3299,
                "name": "BinaryOperation",
                "src": "1116:41:26"
              }
            ],
            "id": 3300,
            "name": "VariableDeclaration",
            "src": "1064:93:26"
          },
          {
            "attributes": {
              "constant": false,
              "name": "prevPeriod",
              "scope": 3439,
              "stateVariable": true,
              "storageLocation": "default",
              "type": "uint256",
              "value": null,
              "visibility": "internal"
            },
            "children": [
              {
                "attributes": {
                  "name": "uint",
                  "type": "uint256"
                },
                "id": 3301,
                "name": "ElementaryTypeName",
                "src": "1208:4:26"
              }
            ],
            "id": 3302,
            "name": "VariableDeclaration",
            "src": "1208:15:26"
          },
          {
            "attributes": {
              "constant": false,
              "name": "currPeriod",
              "scope": 3439,
              "stateVariable": true,
              "storageLocation": "default",
              "type": "uint256",
              "value": null,
              "visibility": "internal"
            },
            "children": [
              {
                "attributes": {
                  "name": "uint",
                  "type": "uint256"
                },
                "id": 3303,
                "name": "ElementaryTypeName",
                "src": "1229:4:26"
              }
            ],
            "id": 3304,
            "name": "VariableDeclaration",
            "src": "1229:15:26"
          },
          {
            "attributes": {
              "constant": false,
              "name": "price",
              "scope": 3439,
              "stateVariable": true,
              "storageLocation": "default",
              "type": "uint256",
              "value": null,
              "visibility": "internal"
            },
            "children": [
              {
                "attributes": {
                  "name": "uint256",
                  "type": "uint256"
                },
                "id": 3305,
                "name": "ElementaryTypeName",
                "src": "1250:7:26"
              }
            ],
            "id": 3306,
            "name": "VariableDeclaration",
            "src": "1250:13:26"
          },
          {
            "attributes": {
              "constant": false,
              "name": "rate",
              "scope": 3439,
              "stateVariable": true,
              "storageLocation": "default",
              "type": "uint256",
              "value": null,
              "visibility": "public"
            },
            "children": [
              {
                "attributes": {
                  "name": "uint256",
                  "type": "uint256"
                },
                "id": 3307,
                "name": "ElementaryTypeName",
                "src": "1369:7:26"
              }
            ],
            "id": 3308,
            "name": "VariableDeclaration",
            "src": "1369:19:26"
          },
          {
            "attributes": {
              "anonymous": false,
              "name": "PriceChangePurchase"
            },
            "children": [
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "indexed": true,
                      "name": "purchaser",
                      "scope": 3318,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "address",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "address",
                          "type": "address"
                        },
                        "id": 3309,
                        "name": "ElementaryTypeName",
                        "src": "1704:7:26"
                      }
                    ],
                    "id": 3310,
                    "name": "VariableDeclaration",
                    "src": "1704:25:26"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "indexed": true,
                      "name": "beneficiary",
                      "scope": 3318,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "address",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "address",
                          "type": "address"
                        },
                        "id": 3311,
                        "name": "ElementaryTypeName",
                        "src": "1731:7:26"
                      }
                    ],
                    "id": 3312,
                    "name": "VariableDeclaration",
                    "src": "1731:27:26"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "indexed": false,
                      "name": "value",
                      "scope": 3318,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 3313,
                        "name": "ElementaryTypeName",
                        "src": "1760:7:26"
                      }
                    ],
                    "id": 3314,
                    "name": "VariableDeclaration",
                    "src": "1760:13:26"
                  },
                  {
                    "attributes": {
                      "constant": false,
                      "indexed": false,
                      "name": "amount",
                      "scope": 3318,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 3315,
                        "name": "ElementaryTypeName",
                        "src": "1775:7:26"
                      }
                    ],
                    "id": 3316,
                    "name": "VariableDeclaration",
                    "src": "1775:14:26"
                  }
                ],
                "id": 3317,
                "name": "ParameterList",
                "src": "1703:87:26"
              }
            ],
            "id": 3318,
            "name": "EventDefinition",
            "src": "1678:113:26"
          },
          {
            "attributes": {
              "constant": false,
              "implemented": true,
              "isConstructor": true,
              "modifiers": [
                null
              ],
              "name": "SalePrice",
              "payable": false,
              "scope": 3439,
              "stateMutability": "nonpayable",
              "superFunction": null,
              "visibility": "public"
            },
            "children": [
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "_rate",
                      "scope": 3348,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 3319,
                        "name": "ElementaryTypeName",
                        "src": "1954:7:26"
                      }
                    ],
                    "id": 3320,
                    "name": "VariableDeclaration",
                    "src": "1954:13:26"
                  }
                ],
                "id": 3321,
                "name": "ParameterList",
                "src": "1953:15:26"
              },
              {
                "attributes": {
                  "parameters": [
                    null
                  ]
                },
                "children": [],
                "id": 3322,
                "name": "ParameterList",
                "src": "1976:0:26"
              },
              {
                "children": [
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "isStructConstructorCall": false,
                          "lValueRequested": false,
                          "names": [
                            null
                          ],
                          "type": "tuple()",
                          "type_conversion": false
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": [
                                {
                                  "typeIdentifier": "t_bool",
                                  "typeString": "bool"
                                }
                              ],
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 6543,
                              "type": "function (bool) pure",
                              "value": "require"
                            },
                            "id": 3323,
                            "name": "Identifier",
                            "src": "1986:7:26"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "commonType": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              },
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "operator": ">",
                              "type": "bool"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3320,
                                  "type": "uint256",
                                  "value": "_rate"
                                },
                                "id": 3324,
                                "name": "Identifier",
                                "src": "1994:5:26"
                              },
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "hexvalue": "30",
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": true,
                                  "lValueRequested": false,
                                  "subdenomination": null,
                                  "token": "number",
                                  "type": "int_const 0",
                                  "value": "0"
                                },
                                "id": 3325,
                                "name": "Literal",
                                "src": "2002:1:26"
                              }
                            ],
                            "id": 3326,
                            "name": "BinaryOperation",
                            "src": "1994:9:26"
                          }
                        ],
                        "id": 3327,
                        "name": "FunctionCall",
                        "src": "1986:18:26"
                      }
                    ],
                    "id": 3328,
                    "name": "ExpressionStatement",
                    "src": "1986:18:26"
                  },
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "operator": "=",
                          "type": "uint256"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3308,
                              "type": "uint256",
                              "value": "rate"
                            },
                            "id": 3329,
                            "name": "Identifier",
                            "src": "2014:4:26"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3320,
                              "type": "uint256",
                              "value": "_rate"
                            },
                            "id": 3330,
                            "name": "Identifier",
                            "src": "2021:5:26"
                          }
                        ],
                        "id": 3331,
                        "name": "Assignment",
                        "src": "2014:12:26"
                      }
                    ],
                    "id": 3332,
                    "name": "ExpressionStatement",
                    "src": "2014:12:26"
                  },
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "operator": "=",
                          "type": "uint256"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3302,
                              "type": "uint256",
                              "value": "prevPeriod"
                            },
                            "id": 3333,
                            "name": "Identifier",
                            "src": "2045:10:26"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "hexvalue": "30",
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "subdenomination": null,
                              "token": "number",
                              "type": "int_const 0",
                              "value": "0"
                            },
                            "id": 3334,
                            "name": "Literal",
                            "src": "2058:1:26"
                          }
                        ],
                        "id": 3335,
                        "name": "Assignment",
                        "src": "2045:14:26"
                      }
                    ],
                    "id": 3336,
                    "name": "ExpressionStatement",
                    "src": "2045:14:26"
                  },
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "operator": "=",
                          "type": "uint256"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3304,
                              "type": "uint256",
                              "value": "currPeriod"
                            },
                            "id": 3337,
                            "name": "Identifier",
                            "src": "2069:10:26"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "hexvalue": "30",
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "subdenomination": null,
                              "token": "number",
                              "type": "int_const 0",
                              "value": "0"
                            },
                            "id": 3338,
                            "name": "Literal",
                            "src": "2082:1:26"
                          }
                        ],
                        "id": 3339,
                        "name": "Assignment",
                        "src": "2069:14:26"
                      }
                    ],
                    "id": 3340,
                    "name": "ExpressionStatement",
                    "src": "2069:14:26"
                  },
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "operator": "=",
                          "type": "uint256"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3306,
                              "type": "uint256",
                              "value": "price"
                            },
                            "id": 3341,
                            "name": "Identifier",
                            "src": "2093:5:26"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "commonType": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              },
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": true,
                              "lValueRequested": false,
                              "operator": "+",
                              "type": "uint256"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3278,
                                  "type": "uint256",
                                  "value": "PRICE"
                                },
                                "id": 3342,
                                "name": "Identifier",
                                "src": "2101:5:26"
                              },
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "overloadedDeclarations": [
                                    null
                                  ],
                                  "referencedDeclaration": 3281,
                                  "type": "uint256",
                                  "value": "INITIAL_DISCOUNT"
                                },
                                "id": 3343,
                                "name": "Identifier",
                                "src": "2109:16:26"
                              }
                            ],
                            "id": 3344,
                            "name": "BinaryOperation",
                            "src": "2101:24:26"
                          }
                        ],
                        "id": 3345,
                        "name": "Assignment",
                        "src": "2093:32:26"
                      }
                    ],
                    "id": 3346,
                    "name": "ExpressionStatement",
                    "src": "2093:32:26"
                  }
                ],
                "id": 3347,
                "name": "Block",
                "src": "1976:174:26"
              }
            ],
            "id": 3348,
            "name": "FunctionDefinition",
            "src": "1935:215:26"
          },
          {
            "attributes": {
              "constant": true,
              "implemented": true,
              "isConstructor": false,
              "modifiers": [
                null
              ],
              "name": "validPurchase",
              "payable": false,
              "scope": 3439,
              "stateMutability": "view",
              "superFunction": null,
              "visibility": "public"
            },
            "children": [
              {
                "attributes": {
                  "parameters": [
                    null
                  ]
                },
                "children": [],
                "id": 3349,
                "name": "ParameterList",
                "src": "2447:2:26"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "",
                      "scope": 3378,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "bool",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "bool",
                          "type": "bool"
                        },
                        "id": 3350,
                        "name": "ElementaryTypeName",
                        "src": "2471:4:26"
                      }
                    ],
                    "id": 3351,
                    "name": "VariableDeclaration",
                    "src": "2471:4:26"
                  }
                ],
                "id": 3352,
                "name": "ParameterList",
                "src": "2470:6:26"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "assignments": [
                        3354
                      ]
                    },
                    "children": [
                      {
                        "attributes": {
                          "constant": false,
                          "name": "_active",
                          "scope": 3378,
                          "stateVariable": false,
                          "storageLocation": "default",
                          "type": "bool",
                          "value": null,
                          "visibility": "internal"
                        },
                        "children": [
                          {
                            "attributes": {
                              "name": "bool",
                              "type": "bool"
                            },
                            "id": 3353,
                            "name": "ElementaryTypeName",
                            "src": "2487:4:26"
                          }
                        ],
                        "id": 3354,
                        "name": "VariableDeclaration",
                        "src": "2487:12:26"
                      },
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          },
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "operator": "&&",
                          "type": "bool"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "commonType": {
                                "typeIdentifier": "t_bool",
                                "typeString": "bool"
                              },
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "operator": "&&",
                              "type": "bool"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "commonType": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  },
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "operator": ">",
                                  "type": "bool"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3763,
                                      "type": "uint256",
                                      "value": "saleStart"
                                    },
                                    "id": 3355,
                                    "name": "Identifier",
                                    "src": "2514:9:26"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "hexvalue": "30",
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "lValueRequested": false,
                                      "subdenomination": null,
                                      "token": "number",
                                      "type": "int_const 0",
                                      "value": "0"
                                    },
                                    "id": 3356,
                                    "name": "Literal",
                                    "src": "2526:1:26"
                                  }
                                ],
                                "id": 3357,
                                "name": "BinaryOperation",
                                "src": "2514:13:26"
                              },
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "commonType": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  },
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "operator": ">=",
                                  "type": "bool"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "arguments": [
                                        null
                                      ],
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "isStructConstructorCall": false,
                                      "lValueRequested": false,
                                      "names": [
                                        null
                                      ],
                                      "type": "uint256",
                                      "type_conversion": false
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": [
                                            null
                                          ],
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3438,
                                          "type": "function () view returns (uint256)",
                                          "value": "currentTime"
                                        },
                                        "id": 3358,
                                        "name": "Identifier",
                                        "src": "2543:11:26"
                                      }
                                    ],
                                    "id": 3359,
                                    "name": "FunctionCall",
                                    "src": "2543:13:26"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3763,
                                      "type": "uint256",
                                      "value": "saleStart"
                                    },
                                    "id": 3360,
                                    "name": "Identifier",
                                    "src": "2560:9:26"
                                  }
                                ],
                                "id": 3361,
                                "name": "BinaryOperation",
                                "src": "2543:26:26"
                              }
                            ],
                            "id": 3362,
                            "name": "BinaryOperation",
                            "src": "2514:55:26"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "commonType": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              },
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "operator": "<",
                              "type": "bool"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "isConstant": false,
                                  "isInlineArray": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "type": "uint256"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "commonType": {
                                        "typeIdentifier": "t_uint256",
                                        "typeString": "uint256"
                                      },
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "operator": "-",
                                      "type": "uint256"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "arguments": [
                                            null
                                          ],
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": false,
                                          "isStructConstructorCall": false,
                                          "lValueRequested": false,
                                          "names": [
                                            null
                                          ],
                                          "type": "uint256",
                                          "type_conversion": false
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": [
                                                null
                                              ],
                                              "overloadedDeclarations": [
                                                null
                                              ],
                                              "referencedDeclaration": 3438,
                                              "type": "function () view returns (uint256)",
                                              "value": "currentTime"
                                            },
                                            "id": 3363,
                                            "name": "Identifier",
                                            "src": "2586:11:26"
                                          }
                                        ],
                                        "id": 3364,
                                        "name": "FunctionCall",
                                        "src": "2586:13:26"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3763,
                                          "type": "uint256",
                                          "value": "saleStart"
                                        },
                                        "id": 3365,
                                        "name": "Identifier",
                                        "src": "2602:9:26"
                                      }
                                    ],
                                    "id": 3366,
                                    "name": "BinaryOperation",
                                    "src": "2586:25:26"
                                  }
                                ],
                                "id": 3367,
                                "name": "TupleExpression",
                                "src": "2585:27:26"
                              },
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "isConstant": false,
                                  "isInlineArray": false,
                                  "isLValue": false,
                                  "isPure": true,
                                  "lValueRequested": false,
                                  "type": "uint256"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "commonType": {
                                        "typeIdentifier": "t_uint256",
                                        "typeString": "uint256"
                                      },
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "lValueRequested": false,
                                      "operator": "*",
                                      "type": "uint256"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3284,
                                          "type": "uint256",
                                          "value": "SALE_PERIOD"
                                        },
                                        "id": 3368,
                                        "name": "Identifier",
                                        "src": "2616:11:26"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "hexvalue": "31",
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": true,
                                          "lValueRequested": false,
                                          "subdenomination": "days",
                                          "token": "number",
                                          "type": "int_const 86400",
                                          "value": "1"
                                        },
                                        "id": 3369,
                                        "name": "Literal",
                                        "src": "2630:6:26"
                                      }
                                    ],
                                    "id": 3370,
                                    "name": "BinaryOperation",
                                    "src": "2616:20:26"
                                  }
                                ],
                                "id": 3371,
                                "name": "TupleExpression",
                                "src": "2615:22:26"
                              }
                            ],
                            "id": 3372,
                            "name": "BinaryOperation",
                            "src": "2585:52:26"
                          }
                        ],
                        "id": 3373,
                        "name": "BinaryOperation",
                        "src": "2514:123:26"
                      }
                    ],
                    "id": 3374,
                    "name": "VariableDeclarationStatement",
                    "src": "2487:150:26"
                  },
                  {
                    "attributes": {
                      "functionReturnParameters": 3352
                    },
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "overloadedDeclarations": [
                            null
                          ],
                          "referencedDeclaration": 3354,
                          "type": "bool",
                          "value": "_active"
                        },
                        "id": 3375,
                        "name": "Identifier",
                        "src": "2655:7:26"
                      }
                    ],
                    "id": 3376,
                    "name": "Return",
                    "src": "2648:14:26"
                  }
                ],
                "id": 3377,
                "name": "Block",
                "src": "2477:192:26"
              }
            ],
            "id": 3378,
            "name": "FunctionDefinition",
            "src": "2425:244:26"
          },
          {
            "attributes": {
              "constant": false,
              "implemented": true,
              "isConstructor": false,
              "modifiers": [
                null
              ],
              "name": "salePrice",
              "payable": false,
              "scope": 3439,
              "stateMutability": "nonpayable",
              "superFunction": null,
              "visibility": "public"
            },
            "children": [
              {
                "attributes": {
                  "parameters": [
                    null
                  ]
                },
                "children": [],
                "id": 3379,
                "name": "ParameterList",
                "src": "2837:2:26"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "",
                      "scope": 3429,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint256",
                          "type": "uint256"
                        },
                        "id": 3380,
                        "name": "ElementaryTypeName",
                        "src": "2856:7:26"
                      }
                    ],
                    "id": 3381,
                    "name": "VariableDeclaration",
                    "src": "2856:7:26"
                  }
                ],
                "id": 3382,
                "name": "ParameterList",
                "src": "2855:9:26"
              },
              {
                "children": [
                  {
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "operator": "=",
                          "type": "uint256"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3304,
                              "type": "uint256",
                              "value": "currPeriod"
                            },
                            "id": 3383,
                            "name": "Identifier",
                            "src": "2933:10:26"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "commonType": {
                                "typeIdentifier": "t_uint256",
                                "typeString": "uint256"
                              },
                              "isConstant": false,
                              "isLValue": false,
                              "isPure": false,
                              "lValueRequested": false,
                              "operator": "/",
                              "type": "uint256"
                            },
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "isConstant": false,
                                  "isInlineArray": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "type": "uint256"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "commonType": {
                                        "typeIdentifier": "t_uint256",
                                        "typeString": "uint256"
                                      },
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "lValueRequested": false,
                                      "operator": "-",
                                      "type": "uint256"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "arguments": [
                                            null
                                          ],
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": false,
                                          "isStructConstructorCall": false,
                                          "lValueRequested": false,
                                          "names": [
                                            null
                                          ],
                                          "type": "uint256",
                                          "type_conversion": false
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": [
                                                null
                                              ],
                                              "overloadedDeclarations": [
                                                null
                                              ],
                                              "referencedDeclaration": 3438,
                                              "type": "function () view returns (uint256)",
                                              "value": "currentTime"
                                            },
                                            "id": 3384,
                                            "name": "Identifier",
                                            "src": "2947:11:26"
                                          }
                                        ],
                                        "id": 3385,
                                        "name": "FunctionCall",
                                        "src": "2947:13:26"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3763,
                                          "type": "uint256",
                                          "value": "saleStart"
                                        },
                                        "id": 3386,
                                        "name": "Identifier",
                                        "src": "2963:9:26"
                                      }
                                    ],
                                    "id": 3387,
                                    "name": "BinaryOperation",
                                    "src": "2947:25:26"
                                  }
                                ],
                                "id": 3388,
                                "name": "TupleExpression",
                                "src": "2946:27:26"
                              },
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "isConstant": false,
                                  "isInlineArray": false,
                                  "isLValue": false,
                                  "isPure": true,
                                  "lValueRequested": false,
                                  "type": "uint256"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "commonType": {
                                        "typeIdentifier": "t_uint256",
                                        "typeString": "uint256"
                                      },
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": true,
                                      "lValueRequested": false,
                                      "operator": "*",
                                      "type": "uint256"
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3287,
                                          "type": "uint256",
                                          "value": "DISCOUNT_PERIOD"
                                        },
                                        "id": 3389,
                                        "name": "Identifier",
                                        "src": "2977:15:26"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "hexvalue": "31",
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": true,
                                          "lValueRequested": false,
                                          "subdenomination": "days",
                                          "token": "number",
                                          "type": "int_const 86400",
                                          "value": "1"
                                        },
                                        "id": 3390,
                                        "name": "Literal",
                                        "src": "2995:6:26"
                                      }
                                    ],
                                    "id": 3391,
                                    "name": "BinaryOperation",
                                    "src": "2977:24:26"
                                  }
                                ],
                                "id": 3392,
                                "name": "TupleExpression",
                                "src": "2976:26:26"
                              }
                            ],
                            "id": 3393,
                            "name": "BinaryOperation",
                            "src": "2946:56:26"
                          }
                        ],
                        "id": 3394,
                        "name": "Assignment",
                        "src": "2933:69:26"
                      }
                    ],
                    "id": 3395,
                    "name": "ExpressionStatement",
                    "src": "2933:69:26"
                  },
                  {
                    "attributes": {
                      "falseBody": null
                    },
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "commonType": {
                            "typeIdentifier": "t_uint256",
                            "typeString": "uint256"
                          },
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "operator": ">",
                          "type": "bool"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3304,
                              "type": "uint256",
                              "value": "currPeriod"
                            },
                            "id": 3396,
                            "name": "Identifier",
                            "src": "3016:10:26"
                          },
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 3302,
                              "type": "uint256",
                              "value": "prevPeriod"
                            },
                            "id": 3397,
                            "name": "Identifier",
                            "src": "3029:10:26"
                          }
                        ],
                        "id": 3398,
                        "name": "BinaryOperation",
                        "src": "3016:23:26"
                      },
                      {
                        "children": [
                          {
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "operator": "=",
                                  "type": "uint256"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3302,
                                      "type": "uint256",
                                      "value": "prevPeriod"
                                    },
                                    "id": 3399,
                                    "name": "Identifier",
                                    "src": "3055:10:26"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3304,
                                      "type": "uint256",
                                      "value": "currPeriod"
                                    },
                                    "id": 3400,
                                    "name": "Identifier",
                                    "src": "3068:10:26"
                                  }
                                ],
                                "id": 3401,
                                "name": "Assignment",
                                "src": "3055:23:26"
                              }
                            ],
                            "id": 3402,
                            "name": "ExpressionStatement",
                            "src": "3055:23:26"
                          },
                          {
                            "children": [
                              {
                                "attributes": {
                                  "argumentTypes": null,
                                  "commonType": {
                                    "typeIdentifier": "t_uint256",
                                    "typeString": "uint256"
                                  },
                                  "isConstant": false,
                                  "isLValue": false,
                                  "isPure": false,
                                  "lValueRequested": false,
                                  "operator": ">=",
                                  "type": "bool"
                                },
                                "children": [
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "overloadedDeclarations": [
                                        null
                                      ],
                                      "referencedDeclaration": 3306,
                                      "type": "uint256",
                                      "value": "price"
                                    },
                                    "id": 3403,
                                    "name": "Identifier",
                                    "src": "3096:5:26"
                                  },
                                  {
                                    "attributes": {
                                      "argumentTypes": null,
                                      "isConstant": false,
                                      "isLValue": false,
                                      "isPure": false,
                                      "isStructConstructorCall": false,
                                      "lValueRequested": false,
                                      "names": [
                                        null
                                      ],
                                      "type": "uint256",
                                      "type_conversion": false
                                    },
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": [
                                            {
                                              "typeIdentifier": "t_uint256",
                                              "typeString": "uint256"
                                            },
                                            {
                                              "typeIdentifier": "t_uint256",
                                              "typeString": "uint256"
                                            }
                                          ],
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "member_name": "add",
                                          "referencedDeclaration": 6449,
                                          "type": "function (uint256,uint256) view returns (uint256)"
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "overloadedDeclarations": [
                                                null
                                              ],
                                              "referencedDeclaration": 6450,
                                              "type": "type(library SafeMath)",
                                              "value": "SafeMath"
                                            },
                                            "id": 3404,
                                            "name": "Identifier",
                                            "src": "3105:8:26"
                                          }
                                        ],
                                        "id": 3405,
                                        "name": "MemberAccess",
                                        "src": "3105:12:26"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3278,
                                          "type": "uint256",
                                          "value": "PRICE"
                                        },
                                        "id": 3406,
                                        "name": "Identifier",
                                        "src": "3118:5:26"
                                      },
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "overloadedDeclarations": [
                                            null
                                          ],
                                          "referencedDeclaration": 3300,
                                          "type": "uint256",
                                          "value": "DISCOUNT_REDUCTION_AMOUNT"
                                        },
                                        "id": 3407,
                                        "name": "Identifier",
                                        "src": "3125:25:26"
                                      }
                                    ],
                                    "id": 3408,
                                    "name": "FunctionCall",
                                    "src": "3105:46:26"
                                  }
                                ],
                                "id": 3409,
                                "name": "BinaryOperation",
                                "src": "3096:55:26"
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "operator": "=",
                                          "type": "uint256"
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "overloadedDeclarations": [
                                                null
                                              ],
                                              "referencedDeclaration": 3306,
                                              "type": "uint256",
                                              "value": "price"
                                            },
                                            "id": 3410,
                                            "name": "Identifier",
                                            "src": "3171:5:26"
                                          },
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "isConstant": false,
                                              "isLValue": false,
                                              "isPure": false,
                                              "isStructConstructorCall": false,
                                              "lValueRequested": false,
                                              "names": [
                                                null
                                              ],
                                              "type": "uint256",
                                              "type_conversion": false
                                            },
                                            "children": [
                                              {
                                                "attributes": {
                                                  "argumentTypes": [
                                                    {
                                                      "typeIdentifier": "t_uint256",
                                                      "typeString": "uint256"
                                                    }
                                                  ],
                                                  "isConstant": false,
                                                  "isLValue": false,
                                                  "isPure": false,
                                                  "lValueRequested": false,
                                                  "member_name": "sub",
                                                  "referencedDeclaration": 6425,
                                                  "type": "function (uint256,uint256) view returns (uint256)"
                                                },
                                                "children": [
                                                  {
                                                    "attributes": {
                                                      "argumentTypes": null,
                                                      "overloadedDeclarations": [
                                                        null
                                                      ],
                                                      "referencedDeclaration": 3306,
                                                      "type": "uint256",
                                                      "value": "price"
                                                    },
                                                    "id": 3411,
                                                    "name": "Identifier",
                                                    "src": "3179:5:26"
                                                  }
                                                ],
                                                "id": 3412,
                                                "name": "MemberAccess",
                                                "src": "3179:9:26"
                                              },
                                              {
                                                "attributes": {
                                                  "argumentTypes": null,
                                                  "overloadedDeclarations": [
                                                    null
                                                  ],
                                                  "referencedDeclaration": 3300,
                                                  "type": "uint256",
                                                  "value": "DISCOUNT_REDUCTION_AMOUNT"
                                                },
                                                "id": 3413,
                                                "name": "Identifier",
                                                "src": "3189:25:26"
                                              }
                                            ],
                                            "id": 3414,
                                            "name": "FunctionCall",
                                            "src": "3179:36:26"
                                          }
                                        ],
                                        "id": 3415,
                                        "name": "Assignment",
                                        "src": "3171:44:26"
                                      }
                                    ],
                                    "id": 3416,
                                    "name": "ExpressionStatement",
                                    "src": "3171:44:26"
                                  }
                                ],
                                "id": 3417,
                                "name": "Block",
                                "src": "3153:77:26"
                              },
                              {
                                "children": [
                                  {
                                    "children": [
                                      {
                                        "attributes": {
                                          "argumentTypes": null,
                                          "isConstant": false,
                                          "isLValue": false,
                                          "isPure": false,
                                          "lValueRequested": false,
                                          "operator": "=",
                                          "type": "uint256"
                                        },
                                        "children": [
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "overloadedDeclarations": [
                                                null
                                              ],
                                              "referencedDeclaration": 3306,
                                              "type": "uint256",
                                              "value": "price"
                                            },
                                            "id": 3418,
                                            "name": "Identifier",
                                            "src": "3254:5:26"
                                          },
                                          {
                                            "attributes": {
                                              "argumentTypes": null,
                                              "overloadedDeclarations": [
                                                null
                                              ],
                                              "referencedDeclaration": 3278,
                                              "type": "uint256",
                                              "value": "PRICE"
                                            },
                                            "id": 3419,
                                            "name": "Identifier",
                                            "src": "3262:5:26"
                                          }
                                        ],
                                        "id": 3420,
                                        "name": "Assignment",
                                        "src": "3254:13:26"
                                      }
                                    ],
                                    "id": 3421,
                                    "name": "ExpressionStatement",
                                    "src": "3254:13:26"
                                  }
                                ],
                                "id": 3422,
                                "name": "Block",
                                "src": "3236:79:26"
                              }
                            ],
                            "id": 3423,
                            "name": "IfStatement",
                            "src": "3092:223:26"
                          }
                        ],
                        "id": 3424,
                        "name": "Block",
                        "src": "3041:284:26"
                      }
                    ],
                    "id": 3425,
                    "name": "IfStatement",
                    "src": "3012:313:26"
                  },
                  {
                    "attributes": {
                      "functionReturnParameters": 3382
                    },
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "overloadedDeclarations": [
                            null
                          ],
                          "referencedDeclaration": 3306,
                          "type": "uint256",
                          "value": "price"
                        },
                        "id": 3426,
                        "name": "Identifier",
                        "src": "3341:5:26"
                      }
                    ],
                    "id": 3427,
                    "name": "Return",
                    "src": "3334:12:26"
                  }
                ],
                "id": 3428,
                "name": "Block",
                "src": "2865:488:26"
              }
            ],
            "id": 3429,
            "name": "FunctionDefinition",
            "src": "2819:534:26"
          },
          {
            "attributes": {
              "constant": true,
              "implemented": true,
              "isConstructor": false,
              "modifiers": [
                null
              ],
              "name": "currentTime",
              "payable": false,
              "scope": 3439,
              "stateMutability": "view",
              "superFunction": null,
              "visibility": "internal"
            },
            "children": [
              {
                "attributes": {
                  "parameters": [
                    null
                  ]
                },
                "children": [],
                "id": 3430,
                "name": "ParameterList",
                "src": "3623:2:26"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "constant": false,
                      "name": "",
                      "scope": 3438,
                      "stateVariable": false,
                      "storageLocation": "default",
                      "type": "uint256",
                      "value": null,
                      "visibility": "internal"
                    },
                    "children": [
                      {
                        "attributes": {
                          "name": "uint",
                          "type": "uint256"
                        },
                        "id": 3431,
                        "name": "ElementaryTypeName",
                        "src": "3649:4:26"
                      }
                    ],
                    "id": 3432,
                    "name": "VariableDeclaration",
                    "src": "3649:4:26"
                  }
                ],
                "id": 3433,
                "name": "ParameterList",
                "src": "3648:6:26"
              },
              {
                "children": [
                  {
                    "attributes": {
                      "functionReturnParameters": 3433
                    },
                    "children": [
                      {
                        "attributes": {
                          "argumentTypes": null,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "member_name": "timestamp",
                          "referencedDeclaration": null,
                          "type": "uint256"
                        },
                        "children": [
                          {
                            "attributes": {
                              "argumentTypes": null,
                              "overloadedDeclarations": [
                                null
                              ],
                              "referencedDeclaration": 6524,
                              "type": "block",
                              "value": "block"
                            },
                            "id": 3434,
                            "name": "Identifier",
                            "src": "3672:5:26"
                          }
                        ],
                        "id": 3435,
                        "name": "MemberAccess",
                        "src": "3672:15:26"
                      }
                    ],
                    "id": 3436,
                    "name": "Return",
                    "src": "3665:22:26"
                  }
                ],
                "id": 3437,
                "name": "Block",
                "src": "3655:39:26"
              }
            ],
            "id": 3438,
            "name": "FunctionDefinition",
            "src": "3602:92:26"
          }
        ],
        "id": 3439,
        "name": "ContractDefinition",
        "src": "266:3479:26"
      }
    ],
    "id": 3440,
    "name": "SourceUnit",
    "src": "0:3747:26"
  },
  "networks": {},
  "schemaVersion": "1.0.0",
  "updatedAt": "2017-12-07T19:38:05.897Z"
}